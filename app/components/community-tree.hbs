<svg class="m-2 community-tree" width={{this.width}} height={{this.height}}>
  <defs>
    <radialGradient id="community-tree-gradient" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
      <stop offset="15%" style="stop-color:rgb(255,255,255);
      stop-opacity:1" />
      <stop offset="17%" style="stop-color:rgb(255,255,255);
      stop-opacity:0.5" />
      <stop offset="20%" style="stop-color:rgb(255,255,255);
      stop-opacity:0" />
    </radialGradient>
    {{#each @data as |person|}}
      <radialGradient id={{concat person.id "-gradient"}}
                      cx="50%"
                      cy="50%"
                      r="50%"
                      fx="50%"
                      fy="50%">
                      <stop offset="0" style={{concat this.beginningStop "stop-opacity:1"}} />
                      <stop offset="100%" style={{concat this.endingStop "stop-opacity:1"}} />
      </radialGradient>

    {{/each}}
  </defs>
  <g 
    transform="translate({{div this.width 2}},{{div this.height 2}})">
    {{#each @data as |person i|}}
    <CommunityTree::Person 
      @person={{person}}
      @i={{i}} 
      @dataLength={{this.dataLength}}
      @yearScale={{this.yearScale}}
      @colorScale={{this.colorScale}}
    />
    {{/each}}
    <ellipse cx="0" cy="0" 
      rx={{div this.height 2}} 
      ry={{div this.height 2}} 
      fill="url(#community-tree-gradient)" />
    </g>
</svg>

